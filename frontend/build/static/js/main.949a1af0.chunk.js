(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{32:function(e,n,t){"use strict";t.r(n);var r,i,a=t(0),o=t.n(a),c=t(13),d=t.n(c),s=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,33)).then((function(n){var t=n.getCLS,r=n.getFID,i=n.getFCP,a=n.getLCP,o=n.getTTFB;t(e),r(e),i(e),a(e),o(e)}))},u=(t(27),t(3)),l=t.n(u),b=t(8),f=t(2),j="/api/videos",m=function(){var e=Object(b.a)(l.a.mark((function e(){var n,t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(j);case 2:return n=e.sent,e.next=5,n.json();case 5:return t=e.sent,e.abrupt("return",t);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),p=function(){var e=Object(b.a)(l.a.mark((function e(n){var t,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(j,{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify(n)});case 2:return t=e.sent,e.next=5,t.json();case 5:return r=e.sent,e.abrupt("return",r);case 7:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),h=function(){var e=Object(b.a)(l.a.mark((function e(n,t){var r,i;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n){e.next=2;break}return e.abrupt("return",null);case 2:return e.next=4,fetch("".concat(j,"/").concat(n),{method:"PUT",headers:{"content-type":"application/json"},body:JSON.stringify(t)});case 4:return r=e.sent,e.next=7,r.json();case 7:return i=e.sent,e.abrupt("return",i);case 9:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}(),x=function(){var e=Object(b.a)(l.a.mark((function e(n){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(j,"/").concat(n),{method:"DELETE"});case 2:return e.abrupt("return",null);case 3:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),v=Object(a.createContext)({}),O=t(12),g=t(5),y=function(e,n){switch(n.type){case"@add-video":return Object(g.a)(Object(g.a)({},e),{},{videos:[n.payload].concat(Object(O.a)(e.videos))});case"@add-video-order":return Object(g.a)(Object(g.a)({},e),{},{videos:[].concat(Object(O.a)(e.videos),[n.payload])});case"@delete-video":return Object(g.a)(Object(g.a)({},e),{},{videos:e.videos.filter((function(e){return e._id!==n.payload.id}))});case"@update-video":var t=n.payload,r=e.videos.map((function(e){return e._id===t._id?(e.title=t.title,e.description=t.description,e.url=t.url,e):e}));return Object(g.a)(Object(g.a)({},e),{},{videos:r});case"@loading":return Object(g.a)(Object(g.a)({},e),{},{loading:n.payload});default:return e}},w=t(1),k={videos:[],loading:!1},N=function(e){var n=e.children,t=Object(a.useReducer)(y,k),r=Object(f.a)(t,2),i=r[0],o=r[1];Object(a.useEffect)((function(){0===i.videos.length&&(o({type:"@loading",payload:!0}),m().then((function(e){e.map((function(e){o({type:"@add-video-order",payload:e})})),o({type:"@loading",payload:!1})})))}),[i.videos.length]);var c=function(){var e=Object(b.a)(l.a.mark((function e(n){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p(n);case 2:t=e.sent,o({type:"@add-video",payload:t});case 4:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),d=function(){var e=Object(b.a)(l.a.mark((function e(n){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x(n);case 2:o({type:"@delete-video",payload:{id:n}});case 3:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),s=function(){var e=Object(b.a)(l.a.mark((function e(n,t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h(n,t);case 2:o({type:"@update-video",payload:t});case 3:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}();return Object(w.jsx)(v.Provider,{value:{videoState:i,deleteVideo:d,updateVideo:s,addVideo:c,loading:i.loading},children:n})},S=t(6),V=t(7),F=Object(V.a)(r||(r=Object(S.a)(["\n  * {\n    margin: 0;\n    padding: 0;\n    outline: 0;\n    box-sizing: border-box;\n    font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;\n  }\n\n  #root {\n    margin: 0 auto;\n    min-height: 100vh;\n  }\n\n  body {\n    min-height: 100vh;\n    position: relative;\n  }\n"]))),C=t(16),_=t(4),D=V.b.nav(i||(i=Object(S.a)(["\n  position: sticky;\n  top: 0;\n  background-color: #ffffffdd;\n  backdrop-filter: blur(10px);\n  will-change: scroll-position;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: .7rem  1rem;\n  margin-bottom: 1rem;\n  height: 54px;\n  z-index: 10;\n  header a {\n    color: #000000;\n    border-bottom: 2px solid transparent;\n    transition: border-bottom .2s linear;\n    padding-bottom: 2px;\n    &:hover {\n      border-bottom: 2px solid #000;\n    }\n  }\n  ul {\n    display: flex;\n    flex-direction: row;\n    li {\n      margin-left: 1rem;\n      height: 100%;\n      a {\n        padding: .4rem .7rem;\n        border: 1px solid #ccc;\n        color: #000000;\n        &:hover {\n          background-color: #0099ff;\n          color: #fff;\n          border: 1px solid transparent;\n        }\n      }\n    }\n  }\n"])));function I(){var e=Object(_.e)("/new-video"),n=Object(f.a)(e,1)[0];return Object(w.jsxs)(D,{children:[Object(w.jsx)("header",{children:Object(w.jsx)(_.a,{to:"/",children:"Mis Videos Favoritos"})}),Object(w.jsx)("ul",{children:!n&&Object(w.jsx)("li",{children:Object(w.jsx)(_.a,{to:"/new-video",children:"Crear"})})})]})}var T,E=t(14),M=function(){var e=Object(a.useContext)(v),n=e.videoState,t=e.deleteVideo,r=e.updateVideo,i=e.addVideo,o=e.loading;return{videos:n.videos,loading:o,deleteVideo:t,updateVideo:r,addVideo:i}},z=V.b.section(T||(T=Object(S.a)(["\n  display: grid;\n  grid-template-columns: repeat(auto-fit, minmax(290px, 1fr));\n  justify-content: center;\n  height: 100%;\n  width: 90%;\n  margin: 0 auto;\n  figure {\n    display: flex;\n    width: 90%;\n    height: 100%;\n    margin: auto auto;\n    img {\n      margin: auto;\n      width: 100%;\n      min-height: 200px;\n      max-height: 250px;\n      user-select: none;\n    }\n    iframe {\n      margin: auto;\n      width: 100%;\n      height: 100%;\n    }\n  }\n  form {\n    display: flex;\n    flex-direction: column;\n    padding: 2rem;\n    width: 100%;\n    label {\n      margin-bottom: 1rem;\n    }\n    input, textarea, button {\n      margin-top: .2rem;\n      resize: none;\n      display: block;\n      width: 100%;\n      border: 1px solid #ccc;\n      outline: none;\n      padding: 0.5rem;\n      font-size: 1rem;\n      border-radius: .2rem;\n      &:focus {\n        border: 1px solid #0099ff;\n      }\n    }\n    span {\n      color: #0099ff;\n    }\n    button {\n      background-color: #0099ff;\n      border: none;\n      padding: 0.7rem 0;\n      color: #fff;\n      &:hover {\n        background-color: #0099ffcc;\n      }\n      &:active {\n        background-color: #0099ffdd;\n      }\n    }\n    button[disabled] {\n      pointer-events: none;\n      opacity: .7;\n      color: #000;\n    }\n  }\n\n  @media screen and (min-width: 500px) {\n    figure {\n      width: 100%;\n      iframe {\n        height: 300px;\n      }\n    }\n  }\n\n  @media screen and (max-width:535px) {\n    width: 100%;\n    figure {\n      /* margin: -0px; */\n      width: 100%;\n      /* margin: 0 1.2rem; */\n      iframe {\n        min-height: 200px;\n      }\n    }\n  }\n"]))),P=t.p+"static/media/yt.b08d10b0.svg",B={title:"",description:"",url:"",_id:""};var J,L,R,U=function(){var e=Object(a.useState)(B),n=Object(f.a)(e,2),t=n[0],r=n[1],i=M(),o=i.updateVideo,c=i.addVideo,d=i.videos,s=Object(_.d)(),u=Object(f.a)(s,2)[1],l=Object(_.e)("/update/:id"),b=Object(f.a)(l,2)[1],j=function(e){r(Object(g.a)(Object(g.a)({},t),{},Object(E.a)({},e.target.name,e.target.value)))};Object(a.useEffect)((function(){if(null===b||void 0===b?void 0:b.id){var e=d.find((function(e){return e._id===b.id}));if("undefined"!==typeof e){var n=e.title,t=e.description,i=e.url,a=e._id;return r({title:n,description:t,url:i,_id:a})}}else r(B)}),[null===b||void 0===b?void 0:b.id,d]);var m=t.url.substring(32,43);return Object(w.jsxs)(z,{children:[Object(w.jsx)("figure",{children:t.url?Object(w.jsx)("iframe",{src:"https://www.youtube.com/embed/".concat(m),title:t.title,frameBorder:"0",allowFullScreen:!0}):Object(w.jsx)("img",{src:P,alt:"my favorite videos - dev: sauterdev"})}),Object(w.jsxs)("form",{onSubmit:function(e){if(e.preventDefault(),t!==B&&t.url&&t.title){if(null===b||void 0===b?void 0:b.id)o(b.id,t);else{var n=t.title,r=t.description,i=t.url;c({title:n,description:r,url:i}),C.b.success("New video added")}u("/")}},children:[Object(w.jsx)("header",{children:Object(w.jsx)("h2",{children:"Nuevo Video"})}),Object(w.jsxs)("label",{children:["T\xedtulo ",Object(w.jsx)("span",{children:"*"}),Object(w.jsx)("input",{type:"text",name:"title",placeholder:"Escribe un t\xedtulo",autoFocus:!0,value:t.title,onChange:j})]}),Object(w.jsxs)("label",{children:["Youtube url ",Object(w.jsx)("span",{children:"*"}),Object(w.jsx)("input",{type:"text",name:"url",placeholder:"youtube.com/ejemplo",value:t.url,onChange:j})]}),Object(w.jsxs)("label",{children:["Descripci\xf3n ",Object(w.jsx)("span",{children:"*"}),Object(w.jsx)("textarea",{rows:3,name:"description",placeholder:"Escribe una descripci\xf3n",value:t.description,onChange:j})]}),(null===b||void 0===b?void 0:b.id)?Object(w.jsx)("button",{disabled:0===t.url.length,children:"Actualizar"}):Object(w.jsx)("button",{disabled:0===t.url.length,children:"Crear"})]})]})},Y=V.b.section(J||(J=Object(S.a)(["\n  width: 97%;\n  display: grid;\n  grid-template-columns: repeat(auto-fit, minmax(270px, 1fr));\n  justify-content: center;\n  margin: 1rem auto;\n  flex-wrap: wrap;\n  gap: 1rem;\n  /* max-width: 500px; */\n  @media screen and (max-width:635px) {\n    width: 100%;\n  }\n"]))),A=V.b.article(L||(L=Object(S.a)(["\n  display: flex;\n  flex-direction: column;\n  justify-content: space-between;\n  padding: 0 0 0.4rem 0;\n  width: 100%;\n  height: 100%;\n  overflow: hidden;\n  border-radius: 0.2rem;\n  position: relative;\n  &:hover {\n    background-color: #0099ff3f;\n    button {\n      transform: translateY(0%);\n      transition: background 0.4s, border-radius 0.5s;\n      &:hover {\n        background-color: #f44;\n        border-radius: 0 0 0 55%;\n      }\n    }\n  }\n  div {\n    display: flex;\n    flex-direction: column;\n    justify-content: flex-start;\n    align-items: flex-start;\n    height: 100%;\n  }\n  button {\n    transition: transform .1s ease-in-out;\n    transform: translateY(-100%);\n    background-color: #f55f;\n    color: #fff;\n    backdrop-filter: blur(5px);\n    border-radius: 0 0 0 70%;\n    border: none;\n    padding: 0.5rem 0.8rem;\n    cursor: pointer;\n    position: absolute;\n    right: -1px;\n  }\n  p {\n    margin-bottom: 0.3rem;\n  }\n  time {\n    color: #555;\n    font-size: 0.8rem;\n    margin: 0.3rem 0;\n  }\n  h3,\n  p,\n  time {\n    padding: 0 0.5rem;\n  }\n  figure {\n    position: relative;\n    margin-bottom: 0.5rem;\n    width: 100%;\n    img {\n      width: 100%;\n      object-fit: cover;\n      cursor: pointer;\n    }\n  }\n\n  @media screen and (max-width: 635px) {\n    width: 100%;\n  }\n"]))),q=V.b.article(R||(R=Object(S.a)(["\n  display: flex;\n  flex-direction: column;\n  justify-content: space-between;\n  padding: 0 0 0.4rem 0;\n  width: 100%;\n  height: 100%;\n  overflow: hidden;\n  gap: 0.8rem;\n  animation-duration: 2s;\n  animation-timing-function: ease-in-out;\n  animation-delay: 0s;\n  animation-iteration-count: infinite;\n  animation-direction: normal;\n  animation-fill-mode: none;\n  animation-play-state: running;\n  animation-name: placeholder-glow;\n  &:hover {\n    background-color: #0099ff3f;\n  }\n  figure {\n    margin: 0;\n    background-color: #222222;\n    width: 100%;\n    opacity: .5;\n    min-height: 200px;\n    border-radius: 0.2rem;\n  }\n  .item-1,\n  .item-2 {\n    border-radius: 0.2rem;\n    background-color: #ccc;\n    height: 0.9rem;\n    width: 100%;\n  }\n  .item-1 {\n    width: 70%;\n  }\n\n  /* div {\n    display: flex;\n    flex-direction: column;\n    justify-content: flex-start;\n    align-items: flex-start;\n    height: 100%;\n  }\n  figure {\n    margin-bottom: .5rem;\n    width: 100%;\n    img {\n      width: 100%;\n      object-fit: cover;\n      cursor: pointer;\n    }\n  } */\n\n  @media screen and (max-width: 635px) {\n    width: 100%;\n  }\n"]))),H=function(){return Object(w.jsxs)(Y,{children:[Object(w.jsxs)(q,{children:[Object(w.jsx)("figure",{}),Object(w.jsx)("span",{className:"item-1"}),Object(w.jsx)("span",{className:"item-2"})]}),Object(w.jsxs)(q,{children:[Object(w.jsx)("figure",{}),Object(w.jsx)("span",{className:"item-1"}),Object(w.jsx)("span",{className:"item-2"})]}),Object(w.jsxs)(q,{children:[Object(w.jsx)("figure",{}),Object(w.jsx)("span",{className:"item-1"}),Object(w.jsx)("span",{className:"item-2"})]}),Object(w.jsxs)(q,{children:[Object(w.jsx)("figure",{}),Object(w.jsx)("span",{className:"item-1"}),Object(w.jsx)("span",{className:"item-2"})]}),Object(w.jsxs)(q,{children:[Object(w.jsx)("figure",{}),Object(w.jsx)("span",{className:"item-1"}),Object(w.jsx)("span",{className:"item-2"})]}),Object(w.jsxs)(q,{children:[Object(w.jsx)("figure",{}),Object(w.jsx)("span",{className:"item-1"}),Object(w.jsx)("span",{className:"item-2"})]}),Object(w.jsxs)(q,{children:[Object(w.jsx)("figure",{}),Object(w.jsx)("span",{className:"item-1"}),Object(w.jsx)("span",{className:"item-2"})]}),Object(w.jsxs)(q,{children:[Object(w.jsx)("figure",{}),Object(w.jsx)("span",{className:"item-1"}),Object(w.jsx)("span",{className:"item-2"})]})]})},X=t(11),G="es-ES",K="undefined"!==typeof Intl&&Intl.DateTimeFormat,Q=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t=n.language,r=void 0===t?G:t,i=new Date(e);return K?new Intl.DateTimeFormat(r,{year:"numeric",month:"numeric",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric"}).format(i):i.toLocaleDateString(r,{weekday:"short",year:"numeric",month:"short",day:"numeric"})};var W="undefined"!==typeof Intl&&Intl.RelativeTimeFormat,Z=[["day",86400],["hour",3600],["minute",60],["second",1]],$=function(e){var n,t=(e-Date.now())/1e3,r=Object(X.a)(Z);try{for(r.s();!(n=r.n()).done;){var i=Object(f.a)(n.value,2),a=i[0],o=i[1],c=Number(o),d=a.toString();if("string"===typeof d&&"number"===typeof c)if(Math.abs(t)>o||"second"===d)return{value:Math.round(t/c),unit:d}}}catch(s){r.e(s)}finally{r.f()}return{value:Math.round(t),unit:"second"}};function ee(e){var n=e.video,t=M().deleteVideo,r=n.url.substring(32,43),i=function(e){var n=Object(a.useState)((function(){return $(e)})),t=Object(f.a)(n,2),r=t[0],i=t[1];if(Object(a.useEffect)((function(){if(W){var n=setInterval((function(){var n=$(e);i(n)}),1e4);return function(){return clearInterval(n)}}}),[e]),!W)return Q(e);var o=new Intl.RelativeTimeFormat("es",{style:"short"}),c=Number(null===r||void 0===r?void 0:r.value),d=String(null===r||void 0===r?void 0:r.unit);if("undefined"===typeof c&&"undefined"===typeof d)return"";var s,u=Object(X.a)(Z);try{for(u.s();!(s=u.n()).done;){var l=Object(f.a)(s.value,2),b=l[0],j=l[1],m=Date.now(),p=(e-m)/1e3,h=Number(j);if(Math.abs(p)>j){var x=Math.round(p/h);if("second"===b)return o.format(x,"second");if("minute"===b)return o.format(x,"minute");if("hour"===b)return o.format(x,"hour");if("day"===b)return o.format(x,"day")}}}catch(v){u.e(v)}finally{u.f()}return o.format(-1,"second")}(new Date(n.createdAt||"").getTime()),o=Object(_.d)(),c=Object(f.a)(o,2)[1];return Object(w.jsxs)(A,{children:[Object(w.jsx)("figure",{children:Object(w.jsx)("img",{title:"Ver informaci\xf3n del video",onClick:function(){return n._id&&(e=n._id,void c("/update/".concat(e)));var e},src:"https://img.youtube.com/vi/".concat(r,"/mqdefault.jpg"),alt:n.title})}),Object(w.jsx)("button",{onClick:function(){return n._id&&(e=n._id,void t(e));var e},children:"X"}),Object(w.jsxs)("div",{children:[Object(w.jsx)("h3",{children:n.title}),Object(w.jsxs)("time",{title:i,children:[i," - @sauterdev"]}),Object(w.jsx)("p",{children:n.description})]})]})}var ne,te=function(){var e=M().videos;return Object(w.jsx)(Y,{children:e&&e.map((function(e){return Object(w.jsx)(ee,{video:e},e._id)}))})};function re(){var e=M().loading;return Object(w.jsx)(w.Fragment,{children:e?Object(w.jsx)(H,{}):Object(w.jsx)(te,{})})}var ie=V.b.main(ne||(ne=Object(S.a)(["\n  position: relative;\n  display: flex;\n  flex-direction: column;\n  margin: auto;\n  width: 100%;\n  min-height: 100vh;\n  li {\n    list-style: none;\n  }\n  a {\n    text-decoration: none;\n  }\n"])));function ae(){return Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)(F,{}),Object(w.jsxs)(ie,{children:[Object(w.jsx)(I,{}),Object(w.jsxs)(_.c,{children:[Object(w.jsx)(_.b,{path:"/",component:re}),Object(w.jsx)(_.b,{path:"/new-video",component:U}),Object(w.jsx)(_.b,{path:"/update/:id",component:U})]}),Object(w.jsx)(C.a,{})]})]})}d.a.render(Object(w.jsx)(o.a.StrictMode,{children:Object(w.jsx)(N,{children:Object(w.jsx)(ae,{})})}),document.getElementById("root")),s()}},[[32,1,2]]]);
//# sourceMappingURL=main.949a1af0.chunk.js.map